<app-header [title]="pageTitle"></app-header>

<mat-list>
  <mat-list-item>
    <mat-form-field class="new-category">
      <input (keyup.enter)="newCategory()" matInput placeholder="Nova categoria" [(ngModel)]="categoryName">
      <mat-icon class="add-icon" matSuffix (click)="newCategory()" matTooltip="Adicionar">add</mat-icon>
    </mat-form-field>
  </mat-list-item>

</mat-list>
<mat-nav-list>
  <mat-list-item *ngFor="let category of categories">
    <a matLine (click)="openList(category.id)" *ngIf="!edit || category.id !== categoryId">
        {{ category?.name}}
    </a>
    <mat-form-field *ngIf="edit && category.id === categoryId" class="new-category">
      <input (keyup.enter)="editCategory(category.id, category.name)" matInput placeholder="Editar nome da categoria" [(ngModel)]="category.name">
      <mat-icon class="add-icon" matSuffix (click)="editCategory(category.id, category.name)">add</mat-icon>
    </mat-form-field>
    <mat-icon class="icon" aria-hidden="false" (click)="openEdition(category.id)" matTooltip="Editar">edit</mat-icon>
    <mat-icon class="icon" aria-hidden="false" (click)="deleteCategory(category.id)" matTooltip="Excluir">delete</mat-icon>
  </mat-list-item>
</mat-nav-list>