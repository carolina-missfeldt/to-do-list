<app-header [title]="pageTitle" [route]="backRoute"></app-header>

<mat-list>
  <mat-list-item>
    <mat-form-field class="new-category">
      <input (keyup.enter)="newItem()" matInput placeholder="Novo item" [(ngModel)]="itemName">
      <mat-icon class="add-icon" matSuffix (click)="newItem()" matTooltip="Adicionar">add</mat-icon>
    </mat-form-field>
  </mat-list-item>

</mat-list>

<mat-nav-list>
  <mat-list-item *ngFor="let item of items">
    <a matLine (click)="openDialog(item)" *ngIf="!edit || item.id !== itemId" [ngClass]="{ 'done' : item.done}">
        {{ item?.name}}
    </a>
    <mat-form-field *ngIf="edit && item.id === itemId" class="new-category">
      <input (keyup.enter)="editItem(item.id, item.name)" matInput placeholder="Editar nome da tarefa" [(ngModel)]="item.name">
      <mat-icon class="add-icon" matSuffix (click)="editItem(item.id, item.name)">add</mat-icon>
    </mat-form-field>
    <mat-checkbox class="example-margin" [(ngModel)]="item.done" (click)="editItem(item.id, item.name, item.done)"></mat-checkbox>
    <mat-icon class="icon" aria-hidden="false" (click)="openEdition(item.id)" matTooltip="Editar">edit</mat-icon>
    <mat-icon class="icon" aria-hidden="false" (click)="deleteItem(item.id)" matTooltip="Excluir">delete</mat-icon>
  </mat-list-item>
</mat-nav-list>
